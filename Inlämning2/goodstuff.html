<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webshoppen BIRDIE!</title>
</head>
<body><h1>Birdie webshopen!</h1>
    <button id="getText">Get Text</button>
    <button id="getUsers">Get JSON</button>
    <button Id="getPosts">Get API Data</button>
    <button Id="getDogs">DAGGOUS</button>
    <button Id="randomUser">RU</button>
    <hr>
     <div id="output"></div>
     <form id ="addPost">
         <div>
             <input type="text" id="title" placeholder="Title">
         </div>
         <div>
            <textarea id="body" placeholder="Body"></textarea>
        </div>
        <input type="submit" value="submit">
     </form>
     <div id="doggo"></div>
     <div id="mUser"></div>

<script>
    document.getElementById("randomUser").addEventListener("click",randomUser);
    document.getElementById("getDogs").addEventListener("click",getDaggs);
    document.getElementById("getPosts").addEventListener("click",getPosts);
    document.getElementById("getUsers").addEventListener("click",getUsers);
    document.getElementById("getText").addEventListener("click",getText);
    document.getElementById("addPost").getElementById("click",addPost);

    function addPost (e){
        e.preventdefault();

        let title = document.getElementById("title").value;
        let body = document.getElementById("body").value;

        fetch('"https://jsonplaceholder.typicode.com/posts"',
        {method:'POST',
        headers: {
            'Accept':'application/json, text/plain, */*',
            'content-type':'application/json'
        },
        body
    })
    }

    function randomUser(){
        fetch("https://randomuser.me/api")
        .then((parsedata) => parsedata.json())
        .then((data)=> {
            const user = data.results[0];

let output = `
<div class="card">
    <img src="${user.picture.large}" alt="${user.name.first}" style="width:100%">
    <h1>${user.name.first} ${user.name.last}</h1>
    <p class="title">Age: ${user.dob.age}</p>
    <p>City: ${user.location.country}</p>
    <p><button><a href="mailto:${user.email}">Contact</a></button></p>
</div>`;

document.getElementById("randomUser").innerHTML = output;
    })}

        document.getElementById("randomUser").innerHTML = output;
function getDaggs(){
    fetch("https://dog.ceo/api/breeds/image/random")
    .then((parsetext) => parsetext.json())
    .then((data)=>{
        console.log(data)
        let output= `<img src='${data.message}'>`;
        document.getElementById('doggo').innerHTML = output;
        })


   
}


function getPosts(){
    fetch("https://jsonplaceholder.typicode.com/posts")
    .then((res)=> res.json())
    .then((data) =>{
        let output = '<h2>Posts</h2>';
        data.forEach(function(post){
            output += `
           <div>
            <h3>${post.title}<h3>
                <p>${post.body}</p>
                </div>
            `;
        })
        document.getElementById('getUsers').innerHTML = output;
    })
}


    function getText() {
   //     fetch('sample.txt').then(function(response){return(response);
//        }).then(function(data){
     //       console.log(data)
    //    })
fetch('sample.txt').then((res) => res.text()).then((data)=> {
document.getElementById("output").innerHTML = data;

}).catch((error)=> console.log(error))    

}
function getUsers(){
    fetch("users.json")
    .then((res)=> res.json())
    .then((data) =>{
        let output = '<h2>Users</h2>';
        data.forEach(function(user){
            output += `
            <ul>
                <li>ID:${user.id}</li>
                <li>ID:${user.name}</li>
                <li>ID:${user.email}</li>

                </ul> 
            `;
        })
        document.getElementById('getUsers').innerHTML = output;
    })

}
    

</script>    
</body>
</html>